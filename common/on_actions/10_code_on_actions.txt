# For on_actions launched by the code itself.
# Overrides Base because of stupid France error - or does it?
# Root = Country
on_monthly_pulse_country = {
	effect = {
		every_character_in_exile_pool = {
			limit = {
				popularity <= 15
			}
			kill_character = yes
		}
		if = {
			limit = {
				year < 1930
				NOT = { has_global_variable = germany_formed }
				c:GER ?= { is_country_alive = yes }
			}
			set_global_variable = germany_formed
		}
		if = {
			limit = {
				exists = c:FRA
				THIS = c:FRA
				c:FRA ?= {
					has_modifier = modifier_haitian_independence_payments
				}
				NOT = { exists = c:HAI }
			}
			c:FRA = { remove_modifier = modifier_haitian_independence_payments }
		}
		if = {
			limit = {
				c:TEX ?= this
				NOT = {
					has_variable = santa_anna_captured
				}
				exists = c:MEX
				any_diplomatic_play = {
					initiator_is = c:TEX
					target_is = c:MEX
				}
				c:MEX = {
					is_player = no
					any_scope_character = {
						has_variable = is_santa_anna
					}
				}
				game_date >= 1836.4.21 # Battle of San Jacinto
				game_date < 1838.1.1
			}
			trigger_event = { id = texan_war_of_independence.3 days = 0 popup = yes } # Santa Anna Captured
		}
	}
}